---
layout: post
title: "new in swift4"
subtitle: " "
author: "Genie"
header-img: "img/ef.jpg"
header-mask: 0.7
tags:
  -  swift
---

# 单面范围 
> One-sided ranges

swift 引进了 `RangeExpression ` 协议 和一组 `[1...]` `[...10]` 运算符方式形成单边范围。
> 从表面上看，是无下限和无上限

## 无限序列 
>   Infinite Sequences

```
let letters = ["a","b","c","d"]
let numberedLetters = zip(1..., letters)
Array(numberedLetters)

let wizards2 = ["Harry", "Ron", "Hermione", "Draco"]
let animals2 = ["Hedwig", "Scabbers", "Crookshanks"]

for (wizard, animal) in zip(wizards2, animals2) {
    print("\(wizard) has \(animal)")
}

```

`zip` 使用 [https://www.hangge.com/blog/cache/detail_1829.html](https://www.hangge.com/blog/cache/detail_1829.html) 


# 集合下标
当您使用单面范围下标到集合时，集合的startIndex或endIndex分别“填充”缺少的下限或上限。

```
let numbers = [1,2,3,4,5,6,7,8,9,10]
numbers[5...] // instead of numbers[5..<numbers.endIndex]

```

#模式匹配

一侧范围可用于模式匹配结构中，例如在switch语句中的case表达式中。请注意，尽管如此，编译器仍无法确定转换是否详尽无遗。

```
let value = 5
switch value {
case 1...:
    print("greater than zero")
case 0:
    print("zero")
case ..<0:
    print("less than zero")
default:
    fatalError("unreachable")
}

```

# String

## 多行显示字符串

通过 `"""  mes """`

```
let multilineString = """
    This is a multi-line string.
    You don't have to escape "quotes" in here.
    String interpolation works as expected: 2 + 3 = \(2 + 3)
    The position of the closing delimiter
      controls whitespace stripping.
    """
print(multilineString)
```

## 字符串文字中转义换行符

```
let escapedNewline = """
    To omit a line break, \
    add a backslash at the end of a line.
    """
print(escapedNewline)
```

## string is collections

```
let greeting = "Hello, 😜!"
// No need to drill down to .characters
greeting.count
for char in greeting {
    print(char)
}
```

```
let comma = greeting.index(of: ",")!
let substring = greeting[..<comma]
type(of: substring)
// Most String APIs can be called on Substring
print(substring.uppercased())
print("---")
```